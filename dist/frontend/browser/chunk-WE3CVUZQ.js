import{a as C,b as ne,c as ie,d as oe,e as re,f as ae,g as le,h as se,i as pe,j as de}from"./chunk-2NVEIGJ3.js";import{A as h,Ab as H,Cb as J,D as P,Ea as F,I as f,Kc as K,Ma as N,Mc as Q,Nc as X,Oa as $,Oc as ee,Pc as te,Q as d,R as e,Ra as j,S as t,T as l,Xa as U,Za as R,aa as v,ba as u,ia as O,ka as E,la as _,ma as o,na as g,oa as x,pb as B,qa as I,qb as k,ra as D,sa as A,sb as V,sc as w,ta as y,tb as q,ua as z,uc as Z,va as M,wb as G,x as a,xa as T,xb as Y,yb as W}from"./chunk-K5PIWI2H.js";var ge=()=>({"min-width":"50rem"}),fe=()=>({width:"500px"}),ue=(r,i)=>({online:r,offline:i});function be(r,i){r&1&&(e(0,"tr")(1,"th",76),o(2,"ID Paquete"),t(),e(3,"th",77),o(4,"Delivery"),t(),e(5,"th",78),o(6,"Estado Delivery"),t(),e(7,"th",79),o(8,"Direcci\xF3n"),t(),e(9,"th",78),o(10,"Estado"),t(),e(11,"th",80),o(12,"Prioridad"),t(),e(13,"th",81),o(14,"Tel\xE9fono"),t(),e(15,"th",82),o(16,"Acciones"),t()())}function he(r,i){if(r&1&&(e(0,"div",103)(1,"strong"),o(2),t(),l(3,"br"),e(4,"small",104),o(5),t()()),r&2){let n=u().$implicit;a(2),g(n.assigned_user.username),a(3),x("ID: ",n.assigned_user.id)}}function xe(r,i){r&1&&(e(0,"span",105),o(1,"Sin asignar"),t())}function ve(r,i){if(r&1&&(e(0,"span",106),l(1,"span",107),e(2,"span",108),o(3),t()()),r&2){let n=u().$implicit;a(),d("ngClass",T(2,ue,n.assigned_user.status==="working",n.assigned_user.status==="off")),a(2),x(" ",n.assigned_user.status==="working"?"Activo":"Inactivo"," ")}}function _e(r,i){r&1&&(e(0,"span",109),o(1,"-"),t())}function ye(r,i){if(r&1&&(e(0,"tr",83)(1,"td",76)(2,"span",84),o(3),t()(),e(4,"td",77)(5,"div",85),f(6,he,6,2,"div",86)(7,xe,2,0,"ng-template",null,0,F),t()(),e(9,"td",78)(10,"div",87),f(11,ve,4,5,"span",88)(12,_e,2,0,"span",89),t()(),e(13,"td",79)(14,"div",90),l(15,"i",91),e(16,"span",92),o(17),t()()(),e(18,"td",78)(19,"span",93),l(20,"i"),o(21),t()(),e(22,"td",80)(23,"span",94),l(24,"i"),o(25),t()(),e(26,"td",81)(27,"div",95),l(28,"i",96),e(29,"span",97),o(30),t()()(),e(31,"td",82)(32,"div",98)(33,"button",99),l(34,"i",100),t(),e(35,"button",101),l(36,"i",102),t()()()()),r&2){let n=i.$implicit,s=O(8),p=u();a(3),g(n.id),a(3),d("ngIf",n.assigned_user)("ngIfElse",s),a(5),d("ngIf",n.assigned_user),a(),d("ngIf",!n.assigned_user),a(5),g(n.delivery_address),a(2),d("ngClass",n.status),a(),_(y("pi ",p.getStatusIcon(n.status))),a(),x(" ",p.getStatusLabel(n.status)," "),a(2),d("ngClass",n.priority),a(),_(y("pi ",p.getPriorityIcon(n.priority))),a(),x(" ",p.getPriorityLabel(n.priority)," "),a(5),g(n.phone||"N/A")}}function we(r,i){r&1&&(e(0,"small",110),o(1," La direcci\xF3n de entrega es requerida (m\xEDnimo 10 caracteres) "),t())}function Ce(r,i){if(r&1&&(e(0,"div",112),l(1,"span",113)(2,"i"),e(3,"span"),o(4),t()()),r&2){let n=u().$implicit,s=u();a(),d("ngClass",n.value),a(),_(y("pi ",s.getPriorityIcon(n.value))),a(2),g(n.label)}}function Me(r,i){if(r&1&&f(0,Ce,5,5,"div",111),r&2){let n=i.$implicit;d("ngIf",n)}}function ke(r,i){if(r&1&&(e(0,"div",112),l(1,"span",113)(2,"i"),e(3,"span"),o(4),t()()),r&2){let n=i.$implicit,s=u();a(),d("ngClass",n.value),a(),_(y("pi ",s.getPriorityIcon(n.value))),a(2),g(n.label)}}function Se(r,i){if(r&1&&(e(0,"div",115),l(1,"i",29),e(2,"span"),o(3),t()()),r&2){let n=u().$implicit;a(3),g(n.username)}}function Pe(r,i){if(r&1&&f(0,Se,4,1,"div",114),r&2){let n=i.$implicit;d("ngIf",n)}}function Oe(r,i){if(r&1&&(e(0,"div",115),l(1,"i",29),e(2,"span"),o(3),t(),e(4,"span",107),o(5),t()()),r&2){let n=i.$implicit;a(3),g(n.username),a(),d("ngClass",n.status),a(),x(" ",n.status==="working"?"Trabajando":"Libre"," ")}}var me=class r{constructor(i,n,s,p,m){this.authService=i;this.router=n;this.deliveryService=s;this.messageService=p;this.fb=m;this.initializeForm(),this.socket=de("https://backdelivery2-208787378023.northamerica-south1.run.app/",{transports:["websocket","polling"],timeout:2e4}),this.socket.on("connect",()=>{console.log("\u{1F50C} Admin conectado al servidor Socket.IO:",this.socket.id),this.socket.emit("join-room",{userId:"admin",userType:"admin"})}),this.socket.on("location-received",b=>{console.log("\u{1F4CD} Ubicaci\xF3n de repartidor recibida:",b),this.updateDeliveryLocationOnMap(b),this.updateDeliveryStatus(b.userId,"working"),console.log("\u{1F4CA} Estado actual de deliveries:",this.deliveryUsers.map(c=>({id:c.id,username:c.username,status:c.status}))),console.log("\u{1F4E6} Estado de paquetes con delivery asignado:",this.packages.filter(c=>c.assigned_user).map(c=>({packageId:c.id,deliveryId:c.assigned_user?.id,deliveryUsername:c.assigned_user?.username,deliveryStatus:c.assigned_user?.status})))}),this.socket.on("disconnect",()=>{console.log("\u274C Admin desconectado del servidor Socket.IO")})}map;packages=[];deliveryUsers=[];showNewShipmentModal=!1;newShipmentForm;creatingShipment=!1;socket;deliveryMarkers=new Map;priorityOptions=[{label:"Baja",value:"low"},{label:"Media",value:"medium"},{label:"Alta",value:"high"}];updateDeliveryLocationOnMap(i){let{userId:n,username:s,latitude:p,longitude:m,timestamp:b}=i;this.deliveryMarkers.has(n)&&this.map.removeLayer(this.deliveryMarkers.get(n));let c=L.divIcon({html:`
        <div class="delivery-location-marker">
          <i class="pi pi-user" style="color: #4CAF50; font-size: 16px;"></i>
          <div class="delivery-info">
            <strong>${s}</strong><br>
            <small>${this.formatTimestamp(b)}</small>
          </div>
        </div>
      `,className:"custom-delivery-icon",iconSize:[40,40],iconAnchor:[20,40]}),ce=L.marker([p,m],{icon:c}).addTo(this.map).bindPopup(`
        <div class="delivery-popup">
          <h4>\u{1F69A} ${s}</h4>
          <p><strong>Coordenadas:</strong><br>
          Lat: ${p.toFixed(6)}<br>
          Lng: ${m.toFixed(6)}</p>
          <p><strong>\xDAltima actualizaci\xF3n:</strong><br>
          ${this.formatTimestamp(b)}</p>
        </div>
      `);this.deliveryMarkers.set(n,ce);let S=this.map.getCenter();(this.map.distance([S.lat,S.lng],[p,m])>1e5||this.deliveryMarkers.size===1)&&(this.map.setView([p,m],12),console.log(`\u{1F5FA}\uFE0F Mapa centrado en la ubicaci\xF3n de ${s}`)),Math.random()<.2&&this.messageService.add({severity:"info",summary:"Ubicaci\xF3n actualizada",detail:`${s} est\xE1 en movimiento`,life:3e3})}updateDeliveryStatus(i,n){let s=this.deliveryUsers.find(p=>p.id===i);s&&(s.status=n),this.packages.forEach(p=>{p.assigned_user&&p.assigned_user.id===i&&(p.assigned_user.status=n)}),console.log(`\u2705 Estado del delivery ${i} actualizado a: ${n}`)}formatTimestamp(i){let n=new Date(i),p=Math.floor((new Date().getTime()-n.getTime())/1e3);if(p<60)return`hace ${p} segundos`;if(p<3600){let m=Math.floor(p/60);return`hace ${m} minuto${m>1?"s":""}`}else{let m=Math.floor(p/3600);return`hace ${m} hora${m>1?"s":""}`}}initializeForm(){this.newShipmentForm=this.fb.group({deliveryAddress:["",[k.required,k.minLength(10)]],phone:[""],priority:["medium"],assignedTo:[""]})}onSubmitNewShipment(){if(this.newShipmentForm.valid){this.creatingShipment=!0;let i={delivery_address:this.newShipmentForm.value.deliveryAddress,phone:this.newShipmentForm.value.phone||null,priority:this.newShipmentForm.value.priority,assigned_to:this.newShipmentForm.value.assignedTo||null,status:"En transito"};this.deliveryService.createPackage(i).subscribe({next:n=>{this.messageService.add({severity:"success",summary:"\xC9xito",detail:"Env\xEDo creado exitosamente"}),this.closeNewShipmentModal(),this.loadPackages(),this.creatingShipment=!1},error:n=>{console.error("Error creating package:",n),this.messageService.add({severity:"error",summary:"Error",detail:"No se pudo crear el env\xEDo"}),this.creatingShipment=!1}})}}ngOnInit(){this.loadDeliveryUsers(),this.loadPackages()}ngAfterViewInit(){setTimeout(()=>{this.initMap()},100)}ngOnDestroy(){this.socket&&this.socket.disconnect()}loadDeliveryUsers(){this.deliveryService.getDeliveryUsers().subscribe({next:i=>{this.deliveryUsers=i},error:i=>{console.error("Error loading delivery users:",i),this.messageService.add({severity:"error",summary:"Error",detail:"No se pudieron cargar los usuarios delivery"})}})}createNewShipment(){console.log("Opening modal..."),this.showNewShipmentModal=!0}closeNewShipmentModal(){this.showNewShipmentModal=!1,this.newShipmentForm.reset()}loadPackages(){this.deliveryService.getPackages().subscribe({next:i=>{this.packages=i},error:i=>{console.error("Error loading packages:",i),this.messageService.add({severity:"error",summary:"Error",detail:"No se pudieron cargar los paquetes"})}})}initMap(){this.map=L.map("adminMap").setView([4.711,-74.0721],6),L.tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{attribution:"\xA9 OpenStreetMap contributors \xA9 CARTO",subdomains:"abcd",maxZoom:19,timeout:15e3}).addTo(this.map),[{lat:4.6097,lng:-74.0817,title:"Centro de Distribuci\xF3n Principal"},{lat:4.6351,lng:-74.0703,title:"Punto de Entrega Norte"},{lat:4.5981,lng:-74.0758,title:"Punto de Entrega Sur"},{lat:4.6244,lng:-74.0647,title:"Punto de Entrega Este"}].forEach(n=>{let s=L.divIcon({html:`
          <div class="warehouse-marker">
            <i class="pi pi-building" style="color: #2196F3; font-size: 12px; opacity: 0.7;"></i>
          </div>
        `,className:"custom-warehouse-icon",iconSize:[20,20],iconAnchor:[10,10]});L.marker([n.lat,n.lng],{icon:s}).addTo(this.map).bindPopup(`<strong>${n.title}</strong>`)}),console.log("\u{1F5FA}\uFE0F Mapa inicializado - Esperando ubicaciones de repartidores...")}getStatusLabel(i){switch(i){case"En transito":return"En Tr\xE1nsito";case"Entregado":return"Entregado";case"Regresado":return"Regresado";default:return i}}getStatusIcon(i){switch(i){case"En transito":return"pi-truck";case"Entregado":return"pi-check-circle";case"Regresado":return"pi-times-circle";default:return"pi-circle"}}getPriorityIcon(i){switch(i){case"high":return"pi-exclamation-triangle";case"medium":return"pi-minus";case"low":return"pi-arrow-down";default:return"pi-circle"}}getPriorityLabel(i){switch(i){case"high":return"Alta";case"medium":return"Media";case"low":return"Baja";default:return i}}logout(){this.socket&&this.socket.disconnect(),this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(n){return new(n||r)(h(te),h(R),h(C),h(w),h(H))};static \u0275cmp=P({type:r,selectors:[["app-admin-dashboard"]],features:[z([w,C])],decls:127,vars:20,consts:[["noDelivery",""],[1,"admin-dashboard"],[1,"admin-sidebar"],[1,"sidebar-header"],[1,"logo-container"],[1,"logo-text"],[1,"accent"],[1,"sidebar-divider"],[1,"sidebar-menu"],[1,"menu-item","active"],[1,"pi","pi-home"],[1,"menu-item"],[1,"pi","pi-box"],[1,"pi","pi-users"],[1,"pi","pi-chart-bar"],[1,"pi","pi-cog"],[1,"sidebar-footer"],[1,"menu-item","logout",3,"click"],[1,"pi","pi-sign-out"],[1,"main-content"],[1,"content-header"],[1,"header-title"],[1,"subtitle"],[1,"header-actions"],[1,"search-container"],[1,"pi","pi-search","search-icon"],["type","text","placeholder","Buscar...",1,"search-input"],[1,"user-profile"],[1,"user-avatar"],[1,"pi","pi-user"],[1,"user-name"],[1,"map-container"],[1,"section-header"],[1,"section-actions"],[1,"action-button"],[1,"pi","pi-refresh"],[1,"pi","pi-filter"],[1,"map-wrapper"],["id","adminMap",1,"delivery-map"],[1,"packages-section"],[1,"action-button","secondary"],[1,"action-button","primary",3,"click"],[1,"pi","pi-plus"],[1,"table-container"],["scrollHeight","500px","styleClass","custom-table",3,"value","tableStyle","scrollable"],["pTemplate","header"],["pTemplate","body"],["header","Crear Nuevo Env\xEDo","styleClass","modern-dialog",3,"visibleChange","visible","modal","closable","draggable","resizable"],[1,"dialog-content"],[1,"dialog-header"],[1,"dialog-icon"],[1,"dialog-title"],[1,"form-container",3,"ngSubmit","formGroup"],[1,"field-group"],["for","deliveryAddress",1,"form-label"],[1,"pi","pi-map-marker"],[1,"input-container"],["pInputText","","id","deliveryAddress","formControlName","deliveryAddress","placeholder","Ingresa la direcci\xF3n completa de entrega",1,"modern-input"],["class","error-message",4,"ngIf"],["for","phone",1,"form-label"],[1,"pi","pi-phone"],["pInputText","","id","phone","formControlName","phone","placeholder","Ingresa el n\xFAmero de tel\xE9fono",1,"modern-input"],[1,"form-row"],[1,"field-group","half"],["for","priority",1,"form-label"],[1,"pi","pi-flag"],["id","priority","formControlName","priority","placeholder","Selecciona la prioridad","optionLabel","label","optionValue","value","styleClass","modern-dropdown",3,"options"],["pTemplate","selectedItem"],["pTemplate","item"],["for","assignedTo",1,"form-label"],["id","assignedTo","formControlName","assignedTo","placeholder","Selecciona un delivery","optionLabel","username","optionValue","id","styleClass","modern-dropdown",3,"options","showClear"],[1,"dialog-footer"],["type","button",1,"dialog-button","secondary",3,"click","disabled"],[1,"pi","pi-times"],["type","submit",1,"dialog-button","primary",3,"disabled"],[1,"pi","pi-check"],[1,"id-column"],[1,"user-column"],[1,"status-column"],[1,"address-column"],[1,"priority-column"],[1,"phone-column"],[1,"actions-column"],[1,"table-row"],[1,"package-id"],[1,"user-cell"],["class","delivery-info",4,"ngIf","ngIfElse"],[1,"status-cell"],["class","delivery-status",4,"ngIf"],["class","status-text muted",4,"ngIf"],[1,"address-cell"],[1,"pi","pi-map-marker","location-icon"],[1,"address-text"],[1,"status-badge",3,"ngClass"],[1,"priority-badge",3,"ngClass"],[1,"phone-cell"],[1,"pi","pi-phone","phone-icon"],[1,"phone-text"],[1,"action-buttons"],[1,"table-action-button","edit"],[1,"pi","pi-pencil"],[1,"table-action-button","view"],[1,"pi","pi-eye"],[1,"delivery-info"],[1,"delivery-id"],[1,"status-badge","unassigned"],[1,"delivery-status"],[1,"status-indicator",3,"ngClass"],[1,"status-text"],[1,"status-text","muted"],[1,"error-message"],["class","priority-option",4,"ngIf"],[1,"priority-option"],[1,"priority-dot",3,"ngClass"],["class","delivery-option",4,"ngIf"],[1,"delivery-option"]],template:function(n,s){if(n&1&&(e(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),o(5,"Delivery"),e(6,"span",6),o(7,"Angel"),t()()(),l(8,"div",7),t(),e(9,"div",8)(10,"div",9),l(11,"i",10),e(12,"span"),o(13,"Dashboard"),t()(),e(14,"div",11),l(15,"i",12),e(16,"span"),o(17,"Paquetes"),t()(),e(18,"div",11),l(19,"i",13),e(20,"span"),o(21,"Repartidores"),t()(),e(22,"div",11),l(23,"i",14),e(24,"span"),o(25,"Reportes"),t()(),e(26,"div",11),l(27,"i",15),e(28,"span"),o(29,"Configuraci\xF3n"),t()()(),e(30,"div",16)(31,"div",17),v("click",function(){return s.logout()}),l(32,"i",18),e(33,"span"),o(34,"Cerrar Sesi\xF3n"),t()()()(),e(35,"div",19)(36,"div",20)(37,"div",21)(38,"h1"),o(39,"Panel de Administraci\xF3n"),t(),e(40,"p",22),o(41,"Bienvenido al centro de control"),t()(),e(42,"div",23)(43,"div",24),l(44,"i",25)(45,"input",26),t(),e(46,"div",27)(47,"div",28),l(48,"i",29),t(),e(49,"span",30),o(50,"Admin"),t()()()(),e(51,"div",31)(52,"div",32)(53,"h2"),o(54,"Mapa de Entregas en Tiempo Real"),t(),e(55,"div",33)(56,"button",34),l(57,"i",35),t(),e(58,"button",34),l(59,"i",36),t()()(),e(60,"div",37),l(61,"div",38),t()(),e(62,"div",39)(63,"div",32)(64,"h2"),o(65,"Gesti\xF3n de Paquetes"),t(),e(66,"div",33)(67,"button",40),l(68,"i",36),e(69,"span"),o(70,"Filtrar"),t()(),e(71,"button",41),v("click",function(){return s.createNewShipment()}),l(72,"i",42),e(73,"span"),o(74,"Nuevo Env\xEDo"),t()()()(),e(75,"div",43)(76,"p-table",44),f(77,be,17,0,"ng-template",45)(78,ye,37,17,"ng-template",46),t()()()()(),e(79,"p-dialog",47),A("visibleChange",function(m){return D(s.showNewShipmentModal,m)||(s.showNewShipmentModal=m),m}),e(80,"div",48)(81,"div",49)(82,"div",50),l(83,"i",12),t(),e(84,"div",51)(85,"h3"),o(86,"Informaci\xF3n del Paquete"),t(),e(87,"p"),o(88,"Complete los detalles para crear un nuevo env\xEDo"),t()()(),e(89,"form",52),v("ngSubmit",function(){return s.onSubmitNewShipment()}),e(90,"div",53)(91,"label",54),l(92,"i",55),o(93," Direcci\xF3n de Entrega * "),t(),e(94,"div",56),l(95,"input",57),t(),f(96,we,2,0,"small",58),t(),e(97,"div",53)(98,"label",59),l(99,"i",60),o(100," Tel\xE9fono de Contacto "),t(),e(101,"div",56),l(102,"input",61),t()(),e(103,"div",62)(104,"div",63)(105,"label",64),l(106,"i",65),o(107," Prioridad "),t(),e(108,"p-select",66),f(109,Me,1,1,"ng-template",67)(110,ke,5,5,"ng-template",68),t()(),e(111,"div",63)(112,"label",69),l(113,"i",29),o(114," Selecciona un delivery "),t(),e(115,"p-select",70),f(116,Pe,1,1,"ng-template",67)(117,Oe,6,3,"ng-template",68),t()()(),e(118,"div",71)(119,"button",72),v("click",function(){return s.closeNewShipmentModal()}),l(120,"i",73),e(121,"span"),o(122,"Cancelar"),t()(),e(123,"button",74),l(124,"i",75),e(125,"span"),o(126),t()()()()()()),n&2){let p;a(76),d("value",s.packages)("tableStyle",M(18,ge))("scrollable",!0),a(3),E(M(19,fe)),I("visible",s.showNewShipmentModal),d("modal",!0)("closable",!0)("draggable",!1)("resizable",!1),a(10),d("formGroup",s.newShipmentForm),a(7),d("ngIf",((p=s.newShipmentForm.get("deliveryAddress"))==null?null:p.invalid)&&((p=s.newShipmentForm.get("deliveryAddress"))==null?null:p.touched)),a(12),d("options",s.priorityOptions),a(7),d("options",s.deliveryUsers)("showClear",!0),a(4),d("disabled",s.creatingShipment),a(4),d("disabled",s.newShipmentForm.invalid||s.creatingShipment),a(3),g(s.creatingShipment?"Creando...":"Crear Env\xEDo")}},dependencies:[j,N,$,J,G,B,V,q,Y,W,U,K,Z,ee,re,oe,ae,se,le,X,Q,ie,ne,pe],styles:['.admin-dashboard[_ngcontent-%COMP%]{display:flex;height:100vh;background-color:#f8f9fa;font-family:Poppins,sans-serif;color:#333;overflow:hidden}.admin-sidebar[_ngcontent-%COMP%]{width:250px;background:linear-gradient(180deg,#2c3e50,#1a252f);color:#fff;display:flex;flex-direction:column;box-shadow:2px 0 10px #0000001a;z-index:10;transition:all .3s ease}.sidebar-header[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;align-items:center}.logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:1rem}.logo-text[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;letter-spacing:.5px}.logo-text[_ngcontent-%COMP%]   .accent[_ngcontent-%COMP%]{color:#ff6b6b}.sidebar-divider[_ngcontent-%COMP%]{height:1px;width:80%;background-color:#ffffff1a;margin:.5rem 0}.sidebar-menu[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;padding:1rem 0}.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.75rem 1.5rem;color:#ffffffb3;transition:all .2s ease;cursor:pointer}.menu-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.75rem;font-size:1.1rem}.menu-item[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;color:#fff}.menu-item.active[_ngcontent-%COMP%]{background-color:#ffffff26;color:#fff;border-left:3px solid #ff6b6b}.sidebar-footer[_ngcontent-%COMP%]{padding:1rem 0;border-top:1px solid rgba(255,255,255,.1)}.menu-item.logout[_ngcontent-%COMP%]{color:#fff9}.menu-item.logout[_ngcontent-%COMP%]:hover{color:#ff6b6b;background-color:#ff6b6b1a}.main-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow-y:auto;padding:1.5rem;background-color:#f8f9fa}.content-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#2c3e50;margin:0}.subtitle[_ngcontent-%COMP%]{color:#7f8c8d;margin:.25rem 0 0;font-size:.9rem}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.search-container[_ngcontent-%COMP%]{position:relative;width:250px}.search-icon[_ngcontent-%COMP%]{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:#95a5a6}.search-input[_ngcontent-%COMP%]{width:100%;padding:.6rem .6rem .6rem 2.5rem;border-radius:50px;border:1px solid #e0e0e0;background-color:#fff;transition:all .3s ease;font-size:.9rem}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#ff6b6b;box-shadow:0 0 0 3px #ff6b6b33}.user-profile[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;cursor:pointer}.user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background-color:#ff6b6b;display:flex;align-items:center;justify-content:center;color:#fff}.user-name[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50}.stats-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1.5rem;margin-bottom:2rem}.stat-box[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;padding:1.5rem;display:flex;align-items:center;box-shadow:0 4px 15px #0000000d;transition:all .3s ease;position:relative;overflow:hidden}.stat-box[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 25px #0000001a}.stat-icon-container[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:12px;display:flex;align-items:center;justify-content:center;margin-right:1rem;font-size:1.5rem}.stat-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.stat-value[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#2c3e50;line-height:1}.stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#7f8c8d;margin-top:.25rem}.stat-trend[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.8rem;font-weight:600;padding:.25rem .5rem;border-radius:50px}.stat-trend.up[_ngcontent-%COMP%]{color:#2ecc71;background-color:#2ecc711a}.stat-trend.down[_ngcontent-%COMP%]{color:#e74c3c;background-color:#e74c3c1a}.stat-trend[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.25rem;font-size:.7rem}.total-packages[_ngcontent-%COMP%]   .stat-icon-container[_ngcontent-%COMP%]{background-color:#ff6b6b26;color:#ff6b6b}.in-transit[_ngcontent-%COMP%]   .stat-icon-container[_ngcontent-%COMP%]{background-color:#3498db26;color:#3498db}.delivered[_ngcontent-%COMP%]   .stat-icon-container[_ngcontent-%COMP%]{background-color:#2ecc7126;color:#2ecc71}.active-delivery[_ngcontent-%COMP%]   .stat-icon-container[_ngcontent-%COMP%]{background-color:#9b59b626;color:#9b59b6}.new-shipment-btn[_ngcontent-%COMP%]{background:transparent!important;border:none!important;color:#fff!important;font-weight:700!important;padding:.75rem 1.5rem!important;border-radius:25px!important;box-shadow:0 2px 4px #0003;transition:all .3s ease;min-width:140px;height:auto}.new-shipment-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a!important;border:none!important;color:#fff!important;font-weight:700!important;padding:.75rem 1.5rem!important;border-radius:25px!important;transform:translateY(-1px);box-shadow:0 4px 8px #0000004d}.new-shipment-btn[_ngcontent-%COMP%]:focus{background:#ffffff1a!important;border:none!important;color:#fff!important;font-weight:700!important;padding:.75rem 1.5rem!important;border-radius:25px!important;box-shadow:0 0 0 2px #ffffff4d}.packages-card[_ngcontent-%COMP%], .map-card[_ngcontent-%COMP%]{background:#fff;border-radius:0 0 12px 12px;box-shadow:0 4px 6px #00000012}.map-card[_ngcontent-%COMP%]{border-radius:12px}.delivery-map[_ngcontent-%COMP%]{height:400px;width:100%;border-radius:8px}.package-id[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2;padding:.25rem .5rem;border-radius:4px;font-weight:600;font-family:monospace}.delivery-info[_ngcontent-%COMP%]{line-height:1.3}.delivery-id[_ngcontent-%COMP%]{color:#666;font-size:.85rem}.address[_ngcontent-%COMP%]{font-size:.9rem;color:#555;max-width:200px;display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.time[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50}.time.estimated[_ngcontent-%COMP%]{color:#667eea}.phone[_ngcontent-%COMP%]{font-family:monospace;font-size:.9rem;color:#666}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem .75rem;border-radius:20px;font-weight:600;font-size:.85rem;text-transform:uppercase;letter-spacing:.5px}.status-pending[_ngcontent-%COMP%]{background:#ffeaa7;color:#856404;border:1px solid #ffeaa7}.status-in_transit[_ngcontent-%COMP%]{background:#74b9ff;color:#0056b3;border:1px solid #74b9ff}.status-delivered[_ngcontent-%COMP%]{background:#00b894;color:#155724;border:1px solid #00b894}.status-failed[_ngcontent-%COMP%]{background:#e17055;color:#721c24;border:1px solid #e17055}.priority-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem .75rem;border-radius:20px;font-weight:600;font-size:.85rem;text-transform:uppercase;letter-spacing:.5px}.priority-high[_ngcontent-%COMP%]{background:#ff6b6b;color:#c62828;border:1px solid #ff6b6b;animation:_ngcontent-%COMP%_pulse-high 2s infinite}.priority-medium[_ngcontent-%COMP%]{background:#fdcb6e;color:#f57c00;border:1px solid #fdcb6e}.priority-low[_ngcontent-%COMP%]{background:#6c5ce7;color:#fff;border:1px solid #6c5ce7}@keyframes _ngcontent-%COMP%_pulse-high{0%{box-shadow:0 0 #ff6b6bb3}70%{box-shadow:0 0 0 10px #ff6b6b00}to{box-shadow:0 0 #ff6b6b00}}@media (max-width: 768px){.navbar-content[_ngcontent-%COMP%]{padding:1rem;flex-direction:column;gap:1rem}.app-title[_ngcontent-%COMP%]{font-size:1.5rem}.dashboard-content[_ngcontent-%COMP%]{padding:1rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.address[_ngcontent-%COMP%]{max-width:150px}.status-badge[_ngcontent-%COMP%], .priority-badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.4rem .6rem}.table-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}}  .leaflet-container{border-radius:8px}  .p-dialog{background:#fff!important;border-radius:12px!important;box-shadow:0 10px 30px #0000004d!important}  .p-dialog .p-dialog-header{background:#fff!important;border-bottom:1px solid #e1e8ed!important;border-radius:12px 12px 0 0!important;padding:1.5rem!important}  .p-dialog .p-dialog-content{background:#fff!important;padding:1.5rem!important;border-radius:0 0 12px 12px!important}  .p-dialog .p-dialog-title{color:#2c3e50!important;font-weight:600!important;font-size:1.25rem!important}  .p-dialog-mask{background-color:#00000080!important}.modal-form[_ngcontent-%COMP%]{background:#fff;padding:0}.modal-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{background:#fff;margin-bottom:1.5rem}.modal-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background:#fff;color:#2c3e50;font-weight:600;margin-bottom:.5rem;display:block}  .p-dialog .custom-input,   .p-dialog .custom-textarea{background:#fff!important;border:2px solid #e1e8ed!important}  .p-dialog .custom-dropdown .p-dropdown{background:#fff!important;border:2px solid #e1e8ed!important}.shipment-form[_ngcontent-%COMP%]{padding:1rem 0}.field-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.field-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem;font-weight:600;color:#2c3e50;font-size:.95rem}.field-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#667eea;font-size:1rem}.custom-input[_ngcontent-%COMP%], .custom-textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:2px solid #e1e8ed;border-radius:8px;font-size:.95rem;transition:all .3s ease;background:#fafbfc}.custom-input[_ngcontent-%COMP%]:focus, .custom-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;background:#fff;box-shadow:0 0 0 3px #667eea1a}  .custom-dropdown{width:100%}  .custom-dropdown .p-dropdown{width:100%;border:2px solid #e1e8ed;border-radius:8px;background:#fafbfc}  .custom-dropdown .p-dropdown:not(.p-disabled):hover{border-color:#667eea}  .custom-dropdown .p-dropdown:not(.p-disabled).p-focus{border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.delivery-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.25rem 0}.status-indicator[_ngcontent-%COMP%]{padding:.2rem .5rem;border-radius:12px;font-size:.75rem;font-weight:600;text-transform:uppercase}.status-indicator.working[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.status-indicator.off[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.8rem;margin-top:.25rem;display:block}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1.5rem;margin-top:2rem;padding:1.5rem 0;border-top:1px solid #e1e8ed}  .form-actions .p-button-secondary{background:#fff!important;border:2px solid #e74c3c!important;color:#e74c3c!important;border-radius:12px!important;padding:.75rem 2rem!important;font-weight:600!important;font-size:.95rem!important;transition:all .3s ease!important;box-shadow:0 2px 8px #e74c3c26!important;min-width:120px!important}  .form-actions .p-button-secondary:hover:not(:disabled){background:#e74c3c!important;color:#fff!important;border-color:#e74c3c!important;transform:translateY(-2px)!important;box-shadow:0 4px 12px #e74c3c40!important}  .form-actions .p-button-secondary:active{transform:translateY(0)!important;box-shadow:0 2px 6px #e74c3c33!important}  .form-actions .p-button-primary{background:linear-gradient(135deg,#667eea,#764ba2)!important;border:2px solid #667eea!important;color:#fff!important;border-radius:12px!important;padding:.75rem 2rem!important;font-weight:600!important;font-size:.95rem!important;transition:all .3s ease!important;box-shadow:0 4px 12px #667eea4d!important;min-width:140px!important}  .form-actions .p-button-primary:hover:not(:disabled){background:linear-gradient(135deg,#5a67d8,#6b46c1)!important;border-color:#5a67d8!important;transform:translateY(-2px)!important;box-shadow:0 6px 16px #667eea66!important}  .form-actions .p-button-primary:active{transform:translateY(0)!important;box-shadow:0 4px 10px #667eea4d!important}  .form-actions .p-button-primary:disabled{background:#cbd5e0!important;border-color:#cbd5e0!important;color:#a0aec0!important;box-shadow:none!important;transform:none!important}  .form-actions .p-button{position:relative!important;overflow:hidden!important}  .form-actions .p-button:before{content:""!important;position:absolute!important;top:50%!important;left:50%!important;width:0!important;height:0!important;background:#fff3!important;border-radius:50%!important;transform:translate(-50%,-50%)!important;transition:width .3s ease,height .3s ease!important}  .form-actions .p-button:hover:before{width:300px!important;height:300px!important}  .p-dialog .p-select{width:100%!important;min-height:45px!important;border:2px solid #e1e8ed!important;border-radius:8px!important;background:#fff!important;font-size:.95rem!important}  .p-dialog .p-select:not(.p-disabled):hover{border-color:#667eea!important}  .p-dialog .p-select:not(.p-disabled).p-focus{border-color:#667eea!important;box-shadow:0 0 0 3px #667eea1a!important}  .p-dialog .p-select .p-select-label{padding:.75rem!important;color:#2c3e50!important;font-size:.95rem!important;line-height:1.4!important}  .p-dialog .p-select .p-select-label.p-placeholder{color:#6c757d!important;font-style:italic!important}  .p-select-panel{background:#fff!important;border:2px solid #667eea!important;border-radius:8px!important;box-shadow:0 10px 30px #00000040!important;margin-top:4px!important;z-index:9999!important;-webkit-backdrop-filter:blur(10px)!important;backdrop-filter:blur(10px)!important}  .p-select-panel:before{content:""!important;position:absolute!important;inset:0!important;background:#fff!important;border-radius:6px!important;z-index:-1!important}  .p-select-panel .p-select-items{padding:.5rem 0!important;background:#fff!important;border-radius:6px!important;position:relative!important;z-index:1!important}  .p-select-panel .p-select-item{padding:.75rem 1rem!important;color:#2c3e50!important;font-size:.95rem!important;line-height:1.4!important;border:none!important;background:#fff!important;transition:all .2s ease!important;position:relative!important;z-index:2!important}  .p-select-panel .p-select-item:hover{background-color:#f8f9fa!important;color:#667eea!important;font-weight:500!important}  .p-select-panel .p-select-item.p-highlight{background-color:#667eea!important;color:#fff!important;font-weight:600!important}  .p-select-panel .p-select-item[aria-label*=Alta],   .p-select-panel .p-select-item[aria-label*=ALTA]{background:#fff!important;border-left:4px solid #e74c3c!important}  .p-select-panel .p-select-item[aria-label*=Media],   .p-select-panel .p-select-item[aria-label*=MEDIA]{background:#fff!important;border-left:4px solid #f39c12!important}  .p-select-panel .p-select-item[aria-label*=Baja],   .p-select-panel .p-select-item[aria-label*=BAJA]{background:#fff!important;border-left:4px solid #27ae60!important}  .p-select-panel .p-select-items-wrapper{background:#fff!important;border-radius:6px!important}  .p-select-panel .p-select-item{text-shadow:none!important;font-weight:500!important;letter-spacing:.3px!important}  .p-select-panel{border:2px solid #667eea!important;outline:1px solid rgba(255,255,255,.8)!important;outline-offset:-1px!important}  .p-select.p-select-open{border-color:#667eea!important;box-shadow:0 0 0 3px #667eea33!important}  .p-select-panel{position:fixed!important;z-index:10000!important}  .p-select-panel .p-select-item{white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important;max-width:100%!important}  .p-select-overlay{background:#fff!important;border:2px solid #667eea!important;border-radius:8px!important;box-shadow:0 10px 30px #0000004d!important;z-index:10000!important}  .p-select-list{background:#fff!important;padding:.5rem 0!important}  .p-select-option{background:#fff!important;color:#2c3e50!important;padding:.75rem 1rem!important;font-size:.95rem!important;border:none!important;transition:all .2s ease!important}  .p-select-option:hover{background:#f8f9fa!important;color:#667eea!important}  .p-select-option.p-selected{background:#667eea!important;color:#fff!important}  .p-select-option.p-focus{background:#f8f9fa!important;color:#667eea!important}  .p-dropdown-panel{background:#fff!important;border:2px solid #667eea!important;border-radius:8px!important;box-shadow:0 10px 30px #0000004d!important;z-index:10000!important}  .p-dropdown-items{background:#fff!important;padding:.5rem 0!important}  .p-dropdown-item{background:#fff!important;color:#2c3e50!important;padding:.75rem 1rem!important;font-size:.95rem!important;border:none!important;transition:all .2s ease!important}  .p-dropdown-item:hover{background:#f8f9fa!important;color:#667eea!important}  .p-dropdown-item.p-highlight{background:#667eea!important;color:#fff!important}  .p-component .p-select-overlay,   .p-component .p-dropdown-panel{background-color:#fff!important;border:2px solid #667eea!important;box-shadow:0 15px 35px #0006!important}  .p-component .p-select-list .p-select-option,   .p-component .p-dropdown-items .p-dropdown-item{background-color:#fff!important;color:#2c3e50!important;font-weight:500!important}  .p-component .p-select-list .p-select-option:hover,   .p-component .p-dropdown-items .p-dropdown-item:hover{background-color:#e3f2fd!important;color:#1976d2!important}  .p-select-overlay,   .p-dropdown-panel{opacity:1!important;visibility:visible!important;display:block!important}.delivery-marker-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:relative}.delivery-marker[_ngcontent-%COMP%]{width:30px;height:30px;background:linear-gradient(135deg,#4caf50,#45a049);border:3px solid #fff;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0000004d;animation:_ngcontent-%COMP%_pulse 2s infinite}.delivery-label[_ngcontent-%COMP%]{background:#4caf50e6;color:#fff;padding:2px 6px;border-radius:4px;font-size:10px;font-weight:700;margin-top:2px;white-space:nowrap;box-shadow:0 1px 3px #0000004d}.warehouse-marker[_ngcontent-%COMP%]{width:30px;height:30px;background:linear-gradient(135deg,#2196f3,#1976d2);border:2px solid #fff;border-radius:8px;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 6px #0000004d}.delivery-popup[_ngcontent-%COMP%]{font-family:Arial,sans-serif}.delivery-location-marker[_ngcontent-%COMP%]{background:#fff;border:2px solid #4CAF50;border-radius:50%;padding:5px;box-shadow:0 2px 8px #0000004d;position:relative}.delivery-location-marker[_ngcontent-%COMP%]   .delivery-info[_ngcontent-%COMP%]{position:absolute;top:-40px;left:50%;transform:translate(-50%);background:#000c;color:#fff;padding:4px 8px;border-radius:4px;font-size:10px;white-space:nowrap;display:none}.delivery-location-marker[_ngcontent-%COMP%]:hover   .delivery-info[_ngcontent-%COMP%]{display:block}.delivery-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:12px;font-size:12px;font-weight:500;display:inline-flex;align-items:center;gap:4px}.status-working[_ngcontent-%COMP%]{background-color:#e8f5e8;color:#2e7d32;border:1px solid #4caf50}.status-off[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828;border:1px solid #f44336}.no-status[_ngcontent-%COMP%]{color:#666;font-style:italic}.delivery-popup[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;color:#4caf50}.delivery-popup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:13px}.delivery-popup[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 2px 8px #0000004d,0 0 #4caf50b3}70%{box-shadow:0 2px 8px #0000004d,0 0 0 10px #4caf5000}to{box-shadow:0 2px 8px #0000004d,0 0 #4caf5000}}.custom-delivery-icon[_ngcontent-%COMP%], .custom-warehouse-icon[_ngcontent-%COMP%]{background:none!important;border:none!important}']})};export{me as AdminDashboardComponent};
